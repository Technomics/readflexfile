TRUE ~ wbs_element_id)) %>%
mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id)) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
colnames(combine)
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id)) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
combine <- left_join(atd, ff$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id)) %>%
mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id)) %>%
mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id)) %>%
mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id)) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
sum(atd$value_dollars, na.rm = T)
sum(combine$value_dollars, na.rm = T)
sum(atd$value_hours, na.rm = T)
sum(combine$value_hours, na.rm = T)
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
combine <- left_join(atd, ff$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
allocate <- function(flexfile) {
left_join(flexfile$actualcosthourdata, flexfile$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
}
allocate(ff)
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
flatten_ff()
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col()
warnings()
allocate <- function(flexfile) {
flexfile$actualcosthourdata <- left_join(flexfile$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
}
allocate(ff)
allocate <- function(flexfile) {
flexfile$actualcosthourdata <- left_join(flexfile$actualcosthourdata, flexfile$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
}
allocate(ff)
View(ff)
ff$actualcosthourdata
view(flexfile$actualcosthourdata)
x <- flexfile$actualcosthourdata
x <- ff$actualcosthourdata
View(x)
allocate(ff)
x <- ff$actualcosthourdata
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
allocate()
x <- ff$actualcosthourdata
allocate <- function(flexfile) {
flexfile$actualcosthourdata <- left_join(flexfile$actualcosthourdata, flexfile$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
return(flexfile)
}
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
allocate()
x <- ff$actualcosthourdata
sum(atd$value_dollars, na.rm = T)
sum(combine$value_dollars, na.rm = T)
sum(ff$actualcosthourdata$value_dollars, na.rm = T)
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
allocate() %>%
flatten_ff()
allocate_ff <- function(flexfile) {
flexfile$actualcosthourdata <- left_join(flexfile$actualcosthourdata, flexfile$allocationcomponents, by = "allocation_method_id",
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
return(flexfile)
}
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
allocate_ff() %>%
readflexfile::flatten_ff()
names(flexfile$actualcosthourdata)[1]
names(ff$actualcosthourdata)[1]
allocate_ff <- function(flexfile) {
flexfile$actualcosthourdata <- left_join(flexfile$actualcosthourdata, flexfile$allocationcomponents,
by = c("allocation_method_id",
names(flexfile$actualcosthourdata)[1]),
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
return(flexfile)
}
ff <- read_ff("C:/Users/bberkman/Downloads/Cost and Data FlexFile 2.13.2020.zip") %>%
readflexfile::add_id_col() %>%
allocate_ff() %>%
readflexfile::flatten_ff()
test <- read_ff("C:/2. cade-offsite/LMCO Aero/LMCO Aero/F-22/46141_AF-12-I-C1/Template/Part 2 - Actual Cost-Hour Data Import.zip") %>%
readflexfile::add_id_col() %>%
allocate_ff() %>%
readflexfile::flatten_ff()
test <- read_ff("C:/2. cade-offsite/LMCO Aero/LMCO Aero/F-22/46141_AF-12-I-C1/Template/Part 2 - Actual Cost-Hour Data Import.zip") %>%
readflexfile::add_id_col() %>%
readflexfile::flatten_ff()
test <- read_ff("C:/2. cade-offsite/LMCO Aero/LMCO Aero/F-22/46141_AF-12-I-C1/Template/Part 2 - Actual Cost-Hour Data Import.zip") %>%
readflexfile::add_id_col()
test$actualcosthourdata <- left_join(test$actualcosthourdata, test$allocationcomponents,
by = c("allocation_method_id",
names(flexfile$actualcosthourdata)[1]),
suffix = c("", ".allocations")) %>%
try(mutate(order_or_lot_id =
case_when(
is.na(order_or_lot_id) ~ order_or_lot_id.allocations,
TRUE ~ order_or_lot_id))) %>%
try(mutate(end_item_id =
case_when(
is.na(end_item_id) ~ end_item_id.allocations,
TRUE ~ end_item_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(wbs_element_id) ~ wbs_element_id.allocations,
TRUE ~ wbs_element_id))) %>%
try(mutate(wbs_element_id =
case_when(
is.na(unit_or_sublot_id) ~ unit_or_sublot_id.allocations,
TRUE ~ unit_or_sublot_id))) %>%
mutate(value_dollars =
case_when(!is.na(allocation_method_id) ~ value_dollars*percent_value,
TRUE ~ value_dollars),
value_hours =
case_when(!is.na(allocation_method_id) ~ value_hours*percent_value,
TRUE ~ value_hours))
test$actualcosthourdata <- left_join(test$actualcosthourdata, test$allocationcomponents,
by = c("allocation_method_id",
names(flexfile$actualcosthourdata)[1]),
suffix = c("", ".allocations"))
View(test)
devtools::document()
devtools::check()
devtools::check()
rnomics::gitlab_clone("costverse/analyzeflexfile", "costverse")
?usethis::use_git_credentials
usethis::use_git_credentials(protocol = "https",
"DzsDsLFwsFBWUrbUauqc")
usethis::use_git_credentials("DzsDsLFwsFBWUrbUauqc")
rnomics::gitlab_clone("costverse/analyzeflexfile", "costverse")
?usethis::create_from_github
usethis::create_from_github("costverse/analyzeflexfile", "O:/Personal/Ben Berkman")
usethis::github_token("DzsDsLFwsFBWUrbUauqc")
usethis::github_token()
usethis::browse_github_pat()
usethis::create_from_github("costverse/analyzeflexfile", "O:/Personal/Ben Berkman", auth_token = "DzsDsLFwsFBWUrbUauqc")
GITHUB_PAT <- "DzsDsLFwsFBWUrbUauqc"
usethis::github_token()
usethis::github_token(GITHUB_PAT)
?rnomics::gitlab_clone
rnomics::gitlab_clone(
repo = "costverse/analyzeflexfile",
subdirectory = "costverse",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "https://192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/analyzeflexfile",
subdirectory = "costverse",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "https://192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "https://192.168.10.152"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "https://192.168.10.152"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = setupr::get_dirs()$git_local,
.sslVerify = TRUE,
.server = "https://192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = "C:/Users/bberkman/Software/Git Local",
.sslVerify = TRUE,
.server = "https://192.168.10.152/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = "C:/Users/bberkman/Software/Git Local",
.sslVerify = TRUE,
.server = "https://gitlab.technomics.net/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = "C:/Users/bberkman/Software/Git Local",
.sslVerify = TRUE,
.server = "https://gitlab.technomics.net/"
)
rnomics::gitlab_clone(
repo = "costverse/readflexfile",
subdirectory = "technomics",
local_path = "C:/Users/bberkman/Software/Git Local",
.sslVerify = TRUE,
.server = "https://gitlab.technomics.net/"
)
rnomics::gitlab_clone(
repo = "costverse/analyzeflexfile",
subdirectory = "costverse",
local_path = "C:/Users/bberkman/Software/Git Local",
.sslVerify = TRUE,
.server = "https://gitlab.technomics.net/"
)
usethis::use_version()
devtools::build(binary = TRUE)
devtools::build()
devtools::build()
devtools::check()
install.packages("costmisc")
install.packages("costmisc")
costmisc::add_id_col
usethis::use_package("costmisc", min_version = "0.2.1")
devtools::document()
devtools::check()
library(readflexfile)
# Read an example from the package
file <- system.file("extdata", "Sample File_FF.zip", package = "readflexfile")
# Read in the example FlexFile
aircraft_ff <- readflexfile::read_ff(file = file,
.clean_names = T)
folder <- system.file("extdata/multiple-flexfiles", package = "csdrtools")
flexfiles <- read_folder(folder,
read_function = readflexfile::read_ff)
ff_stack <- flexfiles %>%
listindex_to_col() %>%
readflexfile::stack_ff()
flexfiles <- flexfiles %>%
listindex_to_col(var = "doc_id")
ff_flat <- flexfiles %>%
readflexfile::stack_ff() %>%
readflexfile::flatten_ff()
devtools::check()
.Last.error.trace
ff_flat <- flexfiles %>%
readflexfile::stack_ff() %>%
readflexfile::flatten_ff()
?setNames
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::build(binary = TRUE)
devtools::build()
install.packages("C:/Users/bberkman/Software/Git Local/costverse/readflexfile_0.0.0.9002.tar.gz", repos = NULL, type="source")
library(readflexfile)
flatten_ff
x <- "N:/20/CADE_Unclassified/FlexFile/LMCO AERO/F-35 DEMO FILE (NO DISTRO)/mapped-data/Part 2 - Actual Cost-Hour Data Import.zip"
y <- readflexfile::read_ff(x) %>%
readflexfile::add_id_col() %>%
readflexfile::flatten_ff()
View(y)
unique(y$order_or_lot_name)
devtools::check()
devtools::check()
usethis::use_version()
devtools::build(binary = TRUE)
devtools::build()
install.packages("readflexfile")
install.packages("readflexfile")
library(analyzeflexfile)
?tbl_1921()
devtools::check()
?plot_ff
?sankey_ff
devtools::check()
pkgdown::build_reference()
usethis::use_version()
devtools::build(binary = TRUE)
devtools::build()
# Description list
description <- list(Description = "Tools for Cost and Software Data Reporting (CSDR) data.",
Title = "Tools for CSDR data",
`Authors@R` = list(person(given = "Justin", family = "Cooper",
email = "jcooper@technomics.net",
role = c("cre", "aut"))))
desc::desc_add_author("Adam H.", "James", "ajames@technomics.net", "aut")
desc::desc_add_author("Ben", "Berkman", "bberkman@technomics.net", "aut")
devtools::document()
rnomics::gitlab_clone("costverse/dbflexfile", "costverse")
devtools::document()
usethis::use_version()
devtools::build(binary = TRUE)
devtools::build()
devtools::build()
devtools::build(binary = TRUE)
usethis::use_version()
devtools::build(binary = TRUE)
devtools::build()
